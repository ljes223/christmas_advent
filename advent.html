<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Christmas Advent!</title>
	<link rel="stylesheet" type="text/css" href="advent.css">
</head>
<body>
	<div class="calendar_grid">
		<div class="title">
			<h1>
				<span class="title1">Christmas</span>
				<span class="title2">Advent</span>
				<span class="title3">Calendar</span>
			</h1>
		</div>
		<button class="day day1" onclick="dailyPopup(1);">Day 1</button>
		<button class="day day2" onclick="dailyPopup(2)">Day 2</button>
		<button class="day day3" onclick="dailyPopup(3)">Day 3</button>
		<button class="day day4" onclick="dailyPopup(4)">Day 4</button>
		<button class="day day5" onclick="dailyPopup(5)">Day 5</button>
		<button class="day day6" onclick="dailyPopup(6)">Day 6</button>
		<button class="day day7" onclick="dailyPopup(7)">Day 7</button>
		<button class="day day8" onclick="dailyPopup(8)">Day 8</button>
		<button class="day day9" onclick="dailyPopup(9)">Day 9</button>
		<button class="day day10" onclick="dailyPopup(10)">Day 10</button>
		<button class="day day11" onclick="dailyPopup(11)">Day 11</button>
		<button class="day day12" onclick="dailyPopup(12)">Day 12</button>
		<button class="day day13" onclick="dailyPopup(13)">Day 13</button>
		<button class="day day14" onclick="dailyPopup(14)">Day 14</button>
		<button class="day day15" onclick="dailyPopup(15)">Day 15</button>
		<button class="day day16" onclick="dailyPopup(16)">Day 16</button>
		<button class="day day17" onclick="dailyPopup(17)">Day 17</button>
		<button class="day day18" onclick="dailyPopup(18)">Day 18</button>
		<button class="day day19" onclick="dailyPopup(19)">Day 19</button>
		<button class="day day20" onclick="dailyPopup(20)">Day 20</button>
		<button class="day day21" onclick="dailyPopup(21)">Day 21</button>
		<button class="day day22" onclick="dailyPopup(22)">Day 22</button>
		<button class="day day23" onclick="dailyPopup(23)">Day 23</button>
		<button class="day day24" onclick="dailyPopup(24)">Day 24</button>
		<button class="day day25" onclick="dailyPopup(25)">Day 25</button>
		<div class="popup" id="pop">
			<p id="head"></p>
			<p id="message"></p>
			<button class="close" onclick="closeAndPause()">Close</button>
		</div>
	</div>
	
<script>
let popup = document.getElementById("pop");
let message = document.getElementById("message");
let head = document.getElementById("head");
let song;

function openPopup(){
	popup.classList.add("open_popup");
}

function closePopup(){
	popup.classList.remove("open_popup");
}

function dailyPopup(day) {
	openPopup();
	showMessage(day);
	playMusic(day);
}

function closeAndPause() {
	closePopup();
	pauseMusic();
}

const messages = [
    "Message 1",
    "Message 2",
    "Message 3",
    "Message 4",
    "Message 5",
    "Message 6",
    "Message 7",
    "Message 8",
    "Message 9",
    "Message 10",
    "Message 11",
    "Message 12",
    "Message 13",
    "Message 14",
    "Message 15",
    "Message 16",
    "Message 17",
    "Message 18",
    "Message 19",
    "Message 20",
    "Message 21",
    "Message 22",
    "Message 23",
    "Message 24",
    "Message 25"
];

function showMessage(day) {
	const currentDate = new Date();
	const currentYear = currentDate.getFullYear();
	const currentDay = currentDate.getDate();

	if (currentYear === 2024 || currentYear > 2024)
	{
		if (currentDay === day || currentDay > day)
		{
			message.textContent = messages[day - 1];
			head.textContent = `Happy Day ${day} of Advent!`;
		} else {
			message.textContent = "Come back soon!";
			head.textContent = `Sorry, it's not Day ${day} yet!`;
		}
	} else {
		message.textContent = "Sorry, it's not 2024 yet!";
	}
}

const musicPaths = [
		"mariah.mp3",
		"music2",
		"music3",
		"music4",
		"music5",
		"music6",
		"music7",
		"music8",
		"music9",
		"music10",
		"music11",
		"music12",
		"music13",
		"music14",
		"music15",
		"music16",
		"music17",
		"music18",
		"music19",
		"music20",
		"music21",
		"music22",
		"music23",
		"music24",
		"music25"
	];

function playMusic(day) {
    if (song) 
    {
        song.pause();
        song.currentTime = 0;
    }
    song = new Audio(musicPaths[day - 1]);
    song.play();
}

function pauseMusic() {
    if (song) 
    {
        song.pause();
        song.currentTime = 0;
    }
}
	
</script>

</body>
</html>
